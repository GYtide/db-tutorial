<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MongoDB è¿ç»´ | DB-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.9.2">
    <link rel="icon" href="/db-tutorial/img/favicon.ico">
    <meta name="description" content="â˜• db-tutorial æ˜¯ä¸€ä¸ªæ•°æ®åº“æ•™ç¨‹ã€‚">
    <meta name="keywords" content="vuepress,theme,blog,vdoing">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/db-tutorial/assets/css/0.styles.36a3d7fb.css" as="style"><link rel="preload" href="/db-tutorial/assets/js/app.a5647274.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/2.bf0d4043.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/40.2c37d077.js" as="script"><link rel="prefetch" href="/db-tutorial/assets/js/10.2e782cee.js"><link rel="prefetch" href="/db-tutorial/assets/js/11.0dd20bb4.js"><link rel="prefetch" href="/db-tutorial/assets/js/12.549cae7d.js"><link rel="prefetch" href="/db-tutorial/assets/js/13.bcec3be8.js"><link rel="prefetch" href="/db-tutorial/assets/js/14.48a822b4.js"><link rel="prefetch" href="/db-tutorial/assets/js/15.24f3e8f5.js"><link rel="prefetch" href="/db-tutorial/assets/js/16.cfae5204.js"><link rel="prefetch" href="/db-tutorial/assets/js/17.c667bbf6.js"><link rel="prefetch" href="/db-tutorial/assets/js/18.6774e2a8.js"><link rel="prefetch" href="/db-tutorial/assets/js/19.9ab9bfb8.js"><link rel="prefetch" href="/db-tutorial/assets/js/20.6c92ee19.js"><link rel="prefetch" href="/db-tutorial/assets/js/21.bb3b0586.js"><link rel="prefetch" href="/db-tutorial/assets/js/22.3a6a95d8.js"><link rel="prefetch" href="/db-tutorial/assets/js/23.36911ce5.js"><link rel="prefetch" href="/db-tutorial/assets/js/24.a1b8119d.js"><link rel="prefetch" href="/db-tutorial/assets/js/25.9e047c8a.js"><link rel="prefetch" href="/db-tutorial/assets/js/26.df04dff8.js"><link rel="prefetch" href="/db-tutorial/assets/js/27.0c0ee270.js"><link rel="prefetch" href="/db-tutorial/assets/js/28.a9ddb176.js"><link rel="prefetch" href="/db-tutorial/assets/js/29.8c281539.js"><link rel="prefetch" href="/db-tutorial/assets/js/3.5c6897df.js"><link rel="prefetch" href="/db-tutorial/assets/js/30.4ee7d613.js"><link rel="prefetch" href="/db-tutorial/assets/js/31.a5f4d1af.js"><link rel="prefetch" href="/db-tutorial/assets/js/32.8bb07575.js"><link rel="prefetch" href="/db-tutorial/assets/js/33.c68a9bba.js"><link rel="prefetch" href="/db-tutorial/assets/js/34.c9396610.js"><link rel="prefetch" href="/db-tutorial/assets/js/35.9fb39781.js"><link rel="prefetch" href="/db-tutorial/assets/js/36.3e5bbd87.js"><link rel="prefetch" href="/db-tutorial/assets/js/37.24bdfc99.js"><link rel="prefetch" href="/db-tutorial/assets/js/38.60391236.js"><link rel="prefetch" href="/db-tutorial/assets/js/39.8a3eb747.js"><link rel="prefetch" href="/db-tutorial/assets/js/4.3836de01.js"><link rel="prefetch" href="/db-tutorial/assets/js/41.c28232d6.js"><link rel="prefetch" href="/db-tutorial/assets/js/42.da5a17da.js"><link rel="prefetch" href="/db-tutorial/assets/js/43.7d3bdd1e.js"><link rel="prefetch" href="/db-tutorial/assets/js/44.cb23bbd8.js"><link rel="prefetch" href="/db-tutorial/assets/js/45.d97cdccf.js"><link rel="prefetch" href="/db-tutorial/assets/js/46.7cc5c883.js"><link rel="prefetch" href="/db-tutorial/assets/js/47.0200f6be.js"><link rel="prefetch" href="/db-tutorial/assets/js/48.3f5f5caf.js"><link rel="prefetch" href="/db-tutorial/assets/js/49.2a9d8743.js"><link rel="prefetch" href="/db-tutorial/assets/js/5.ccabf20f.js"><link rel="prefetch" href="/db-tutorial/assets/js/50.e21b18ee.js"><link rel="prefetch" href="/db-tutorial/assets/js/51.650fac08.js"><link rel="prefetch" href="/db-tutorial/assets/js/52.a2b19374.js"><link rel="prefetch" href="/db-tutorial/assets/js/53.c10f7e8b.js"><link rel="prefetch" href="/db-tutorial/assets/js/54.8fff9bf6.js"><link rel="prefetch" href="/db-tutorial/assets/js/55.43da1ea9.js"><link rel="prefetch" href="/db-tutorial/assets/js/56.974691a4.js"><link rel="prefetch" href="/db-tutorial/assets/js/57.c3596250.js"><link rel="prefetch" href="/db-tutorial/assets/js/58.e2d7c56e.js"><link rel="prefetch" href="/db-tutorial/assets/js/59.29052347.js"><link rel="prefetch" href="/db-tutorial/assets/js/6.11f5c9a7.js"><link rel="prefetch" href="/db-tutorial/assets/js/60.5a200d62.js"><link rel="prefetch" href="/db-tutorial/assets/js/61.a5a94c17.js"><link rel="prefetch" href="/db-tutorial/assets/js/62.ea7a5de5.js"><link rel="prefetch" href="/db-tutorial/assets/js/63.0b1f73a3.js"><link rel="prefetch" href="/db-tutorial/assets/js/64.8b9b2494.js"><link rel="prefetch" href="/db-tutorial/assets/js/65.e607dc41.js"><link rel="prefetch" href="/db-tutorial/assets/js/66.244e16e0.js"><link rel="prefetch" href="/db-tutorial/assets/js/67.ae81bd86.js"><link rel="prefetch" href="/db-tutorial/assets/js/68.da0b2f99.js"><link rel="prefetch" href="/db-tutorial/assets/js/69.11f92e82.js"><link rel="prefetch" href="/db-tutorial/assets/js/7.81cfc035.js"><link rel="prefetch" href="/db-tutorial/assets/js/70.1391a598.js"><link rel="prefetch" href="/db-tutorial/assets/js/71.e2c171d7.js"><link rel="prefetch" href="/db-tutorial/assets/js/72.f633a8a9.js"><link rel="prefetch" href="/db-tutorial/assets/js/73.ad1b11c5.js"><link rel="prefetch" href="/db-tutorial/assets/js/74.04f2ec65.js"><link rel="prefetch" href="/db-tutorial/assets/js/75.8de70a6f.js"><link rel="prefetch" href="/db-tutorial/assets/js/76.6a789f79.js"><link rel="prefetch" href="/db-tutorial/assets/js/77.781e70a0.js"><link rel="prefetch" href="/db-tutorial/assets/js/78.bf4abaca.js"><link rel="prefetch" href="/db-tutorial/assets/js/79.950e48b1.js"><link rel="prefetch" href="/db-tutorial/assets/js/8.82201a2a.js"><link rel="prefetch" href="/db-tutorial/assets/js/80.4dca8779.js"><link rel="prefetch" href="/db-tutorial/assets/js/9.e8cce4f5.js">
    <link rel="stylesheet" href="/db-tutorial/assets/css/0.styles.36a3d7fb.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/db-tutorial/" class="home-link router-link-active"><img src="https://raw.githubusercontent.com/dunwu/images/dev/common/dunwu-logo.png" alt="DB-TUTORIAL" class="logo"> <span class="site-name can-hide">DB-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/db-tutorial/01.æ•°æ®åº“ç»¼åˆ/" class="nav-link">æ•°æ®åº“ç»¼åˆ</a></div><div class="nav-item"><a href="/db-tutorial/02.æ•°æ®åº“ä¸­é—´ä»¶/" class="nav-link">æ•°æ®åº“ä¸­é—´ä»¶</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…³ç³»å‹æ•°æ®åº“" class="dropdown-title"><a href="/db-tutorial/03.å…³ç³»å‹æ•°æ®åº“/" class="link-title">å…³ç³»å‹æ•°æ®åº“</a> <span class="title" style="display:none;">å…³ç³»å‹æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/03.å…³ç³»å‹æ•°æ®åº“/01.ç»¼åˆ/" class="nav-link">ç»¼åˆ</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/03.å…³ç³»å‹æ•°æ®åº“/02.Mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/03.å…³ç³»å‹æ•°æ®åº“/99.å…¶ä»–/" class="nav-link">å…¶ä»–</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ–‡æ¡£æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æ–‡æ¡£æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/04.æ–‡æ¡£æ•°æ®åº“/01.MongoDB/" class="nav-link">MongoDB</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="KVæ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">KVæ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/05.KVæ•°æ®åº“/01.Redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æœç´¢å¼•æ“æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æœç´¢å¼•æ“æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/07.æœç´¢å¼•æ“æ•°æ®åº“/01.Elasticsearch/" class="nav-link">Elasticsearch</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/07.æœç´¢å¼•æ“æ•°æ®åº“/02.Elastic/" class="nav-link">ElasticæŠ€æœ¯æ ˆ</a></li></ul></div></div> <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/db-tutorial/01.æ•°æ®åº“ç»¼åˆ/" class="nav-link">æ•°æ®åº“ç»¼åˆ</a></div><div class="nav-item"><a href="/db-tutorial/02.æ•°æ®åº“ä¸­é—´ä»¶/" class="nav-link">æ•°æ®åº“ä¸­é—´ä»¶</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…³ç³»å‹æ•°æ®åº“" class="dropdown-title"><a href="/db-tutorial/03.å…³ç³»å‹æ•°æ®åº“/" class="link-title">å…³ç³»å‹æ•°æ®åº“</a> <span class="title" style="display:none;">å…³ç³»å‹æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/03.å…³ç³»å‹æ•°æ®åº“/01.ç»¼åˆ/" class="nav-link">ç»¼åˆ</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/03.å…³ç³»å‹æ•°æ®åº“/02.Mysql/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/03.å…³ç³»å‹æ•°æ®åº“/99.å…¶ä»–/" class="nav-link">å…¶ä»–</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ–‡æ¡£æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æ–‡æ¡£æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/04.æ–‡æ¡£æ•°æ®åº“/01.MongoDB/" class="nav-link">MongoDB</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="KVæ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">KVæ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/05.KVæ•°æ®åº“/01.Redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æœç´¢å¼•æ“æ•°æ®åº“" class="dropdown-title"><!----> <span class="title" style="display:;">æœç´¢å¼•æ“æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-tutorial/07.æœç´¢å¼•æ“æ•°æ®åº“/01.Elasticsearch/" class="nav-link">Elasticsearch</a></li><li class="dropdown-item"><!----> <a href="/db-tutorial/07.æœç´¢å¼•æ“æ•°æ®åº“/02.Elastic/" class="nav-link">ElasticæŠ€æœ¯æ ˆ</a></li></ul></div></div> <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>MongoDB</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db-tutorial/pages/56d5b6/" class="sidebar-link">MongoDB åº”ç”¨æŒ‡å—</a></li><li><a href="/db-tutorial/pages/d69d64/" class="sidebar-link">MongoDB çš„ CRUD æ“ä½œ</a></li><li><a href="/db-tutorial/pages/2698b2/" class="sidebar-link">MongoDB çš„èšåˆæ“ä½œ</a></li><li><a href="/db-tutorial/pages/3287fa/" class="sidebar-link">MongoDB äº‹åŠ¡</a></li><li><a href="/db-tutorial/pages/c154c4/" class="sidebar-link">MongoDB å»ºæ¨¡</a></li><li><a href="/db-tutorial/pages/646187/" class="sidebar-link">MongoDB å»ºæ¨¡ç¤ºä¾‹</a></li><li><a href="/db-tutorial/pages/1c75d4/" class="sidebar-link">MongoDB ç´¢å¼•</a></li><li><a href="/db-tutorial/pages/e0b65c/" class="sidebar-link">MongoDB å¤åˆ¶</a></li><li><a href="/db-tutorial/pages/34b182/" class="sidebar-link">MongoDB åˆ†ç‰‡</a></li><li><a href="/db-tutorial/pages/ce58ab/" aria-current="page" class="active sidebar-link">MongoDB è¿ç»´</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/ce58ab/#mongodb-å®‰è£…" class="sidebar-link">MongoDB å®‰è£…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/db-tutorial/pages/ce58ab/#windows" class="sidebar-link">Windows</a></li><li class="sidebar-sub-header level3"><a href="/db-tutorial/pages/ce58ab/#linux" class="sidebar-link">Linux</a></li><li class="sidebar-sub-header level3"><a href="/db-tutorial/pages/ce58ab/#è®¾ç½®ç”¨æˆ·åã€å¯†ç " class="sidebar-link">è®¾ç½®ç”¨æˆ·åã€å¯†ç </a></li></ul></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/ce58ab/#å¤‡ä»½å’Œæ¢å¤" class="sidebar-link">å¤‡ä»½å’Œæ¢å¤</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/db-tutorial/pages/ce58ab/#æ•°æ®å¤‡ä»½" class="sidebar-link">æ•°æ®å¤‡ä»½</a></li><li class="sidebar-sub-header level3"><a href="/db-tutorial/pages/ce58ab/#æ•°æ®æ¢å¤" class="sidebar-link">æ•°æ®æ¢å¤</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/ce58ab/#å¯¼å…¥å¯¼å‡º" class="sidebar-link">å¯¼å…¥å¯¼å‡º</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/db-tutorial/pages/ce58ab/#å¯¼å…¥æ“ä½œ" class="sidebar-link">å¯¼å…¥æ“ä½œ</a></li><li class="sidebar-sub-header level3"><a href="/db-tutorial/pages/ce58ab/#å¯¼å‡ºæ“ä½œ" class="sidebar-link">å¯¼å‡ºæ“ä½œ</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/db-tutorial/pages/ce58ab/#å‚è€ƒèµ„æ–™" class="sidebar-link">å‚è€ƒèµ„æ–™</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-1baff76c><div class="articleInfo" data-v-1baff76c><ul class="breadcrumbs" data-v-1baff76c><li data-v-1baff76c><a href="/db-tutorial/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-1baff76c></a></li> <li data-v-1baff76c><a href="/db-tutorial/categories/?category=%E6%96%87%E6%A1%A3%E6%95%B0%E6%8D%AE%E5%BA%93" title="åˆ†ç±»" data-v-1baff76c>æ–‡æ¡£æ•°æ®åº“</a></li><li data-v-1baff76c><a href="/db-tutorial/categories/?category=MongoDB" title="åˆ†ç±»" data-v-1baff76c>MongoDB</a></li></ul> <div class="info" data-v-1baff76c><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-1baff76c><a href="https://github.com/dunwu" target="_blank" title="ä½œè€…" class="beLink" data-v-1baff76c>dunwu</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-1baff76c><a href="javascript:;" data-v-1baff76c>2020-09-09</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">MongoDB è¿ç»´<!----></h1>  <div class="theme-vdoing-content content__default"><h1 id="mongodb-è¿ç»´"><a href="#mongodb-è¿ç»´" class="header-anchor">#</a> MongoDB è¿ç»´</h1> <h2 id="mongodb-å®‰è£…"><a href="#mongodb-å®‰è£…" class="header-anchor">#</a> MongoDB å®‰è£…</h2> <h3 id="windows"><a href="#windows" class="header-anchor">#</a> Windows</h3> <p>ï¼ˆ1ï¼‰ä¸‹è½½å¹¶è§£å‹åˆ°æœ¬åœ°</p> <p>è¿›å…¥å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noopener noreferrer"><strong>å®˜æ–¹ä¸‹è½½åœ°å€</strong><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ï¼Œé€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬ä¸‹è½½ã€‚</p> <p>ï¼ˆ2ï¼‰åˆ›å»ºæ•°æ®ç›®å½•</p> <p>MongoDB å°†æ•°æ®ç›®å½•å­˜å‚¨åœ¨ db ç›®å½•ä¸‹ã€‚ä½†æ˜¯è¿™ä¸ªæ•°æ®ç›®å½•ä¸ä¼šä¸»åŠ¨åˆ›å»ºï¼Œæˆ‘ä»¬åœ¨å®‰è£…å®Œæˆåéœ€è¦åˆ›å»ºå®ƒã€‚</p> <p>ä¾‹å¦‚ï¼š<code>D:\Tools\Server\mongodb\mongodb-4.4.0\data\db</code></p> <p>ï¼ˆ3ï¼‰è¿è¡Œ MongoDB æœåŠ¡</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mongod --dbpath D:<span class="token punctuation">\</span>Tools<span class="token punctuation">\</span>Server<span class="token punctuation">\</span>mongodb<span class="token punctuation">\</span>mongodb-4.4.0<span class="token punctuation">\</span>data<span class="token punctuation">\</span>db
</code></pre></div><p>ï¼ˆ4ï¼‰å®¢æˆ·ç«¯è¿æ¥ MongoDB</p> <p>å¯ä»¥åœ¨å‘½ä»¤çª—å£ä¸­è¿è¡Œ mongo.exe å‘½ä»¤å³å¯è¿æ¥ä¸Š MongoDB</p> <p>ï¼ˆ5ï¼‰é…ç½® MongoDB æœåŠ¡</p> <h3 id="linux"><a href="#linux" class="header-anchor">#</a> Linux</h3> <p>ï¼ˆ1ï¼‰ä½¿ç”¨å®‰è£…åŒ…å®‰è£…</p> <p>å®‰è£…å‰æˆ‘ä»¬éœ€è¦å®‰è£…å„ä¸ª Linux å¹³å°ä¾èµ–åŒ…ã€‚</p> <p><strong>Red Hat/CentOSï¼š</strong></p> <div class="language- extra-class"><pre class="language-text"><code>sudo yum install libcurl openssl
</code></pre></div><p><strong>Ubuntu 18.04 LTS (&quot;Bionic&quot;)/Debian 10 &quot;Buster&quot;ï¼š</strong></p> <div class="language- extra-class"><pre class="language-text"><code>sudo apt-get install libcurl4 openssl
</code></pre></div><p><strong>Ubuntu 16.04 LTS (&quot;Xenial&quot;)/Debian 9 &quot;Stretch&quot;ï¼š</strong></p> <div class="language- extra-class"><pre class="language-text"><code>sudo apt-get install libcurl3 openssl
</code></pre></div><p>ï¼ˆ2ï¼‰åˆ›å»ºæ•°æ®ç›®å½•</p> <p>é»˜è®¤æƒ…å†µä¸‹ MongoDB å¯åŠ¨åä¼šåˆå§‹åŒ–ä»¥ä¸‹ä¸¤ä¸ªç›®å½•ï¼š</p> <ul><li>æ•°æ®å­˜å‚¨ç›®å½•ï¼š/var/lib/mongodb</li> <li>æ—¥å¿—æ–‡ä»¶ç›®å½•ï¼š/var/log/mongodb</li></ul> <p>æˆ‘ä»¬åœ¨å¯åŠ¨å‰å¯ä»¥å…ˆåˆ›å»ºè¿™ä¸¤ä¸ªç›®å½•å¹¶è®¾ç½®å½“å‰ç”¨æˆ·æœ‰è¯»å†™æƒé™ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /var/lib/mongo
<span class="token function">sudo</span> <span class="token function">mkdir</span> -p /var/log/mongodb
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token variable"><span class="token variable">`</span><span class="token function">whoami</span><span class="token variable">`</span></span> /var/lib/mongo     <span class="token comment"># è®¾ç½®æƒé™</span>
<span class="token function">sudo</span> <span class="token function">chown</span> <span class="token variable"><span class="token variable">`</span><span class="token function">whoami</span><span class="token variable">`</span></span> /var/log/mongodb   <span class="token comment"># è®¾ç½®æƒé™</span>
</code></pre></div><p>ï¼ˆ3ï¼‰è¿è¡Œ MongoDB æœåŠ¡</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mongod --dbpath /var/lib/mongo --logpath /var/log/mongodb/mongod.log --fork
</code></pre></div><p>æ‰“å¼€ /var/log/mongodb/mongod.log æ–‡ä»¶çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸã€‚</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># tail -10f /var/log/mongodb/mongod.log</span>
<span class="token number">2020</span>-07-09T12:20:17.391+0800 I  NETWORK  <span class="token punctuation">[</span>listener<span class="token punctuation">]</span> Listening on /tmp/mongodb-27017.sock
<span class="token number">2020</span>-07-09T12:20:17.392+0800 I  NETWORK  <span class="token punctuation">[</span>listener<span class="token punctuation">]</span> Listening on <span class="token number">127.0</span>.0.1
<span class="token number">2020</span>-07-09T12:20:17.392+0800 I  NETWORK  <span class="token punctuation">[</span>listener<span class="token punctuation">]</span> waiting <span class="token keyword">for</span> connections on port <span class="token number">27017</span>
</code></pre></div><p>ï¼ˆ4ï¼‰å®¢æˆ·ç«¯è¿æ¥ MongoDB</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /usr/local/mongodb4/bin
./mongo
</code></pre></div><blockquote><p><a href="https://github.com/dunwu/linux-tutorial/tree/master/codes/linux/soft" target="_blank" rel="noopener noreferrer">Linux å®‰è£…è„šæœ¬<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="è®¾ç½®ç”¨æˆ·åã€å¯†ç "><a href="#è®¾ç½®ç”¨æˆ·åã€å¯†ç " class="header-anchor">#</a> è®¾ç½®ç”¨æˆ·åã€å¯†ç </h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> use admin
switched to db admin
<span class="token operator">&gt;</span> db.createUser<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;user&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;root&quot;</span>,<span class="token string">&quot;pwd&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;root&quot;</span>,<span class="token string">&quot;roles&quot;</span>:<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;role&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;userAdminAnyDatabase&quot;</span>,<span class="token string">&quot;db&quot;</span><span class="token builtin class-name">:</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
Successfully added user: <span class="token punctuation">{</span>
        <span class="token string">&quot;user&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;root&quot;</span>,
        <span class="token string">&quot;roles&quot;</span> <span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                        <span class="token string">&quot;role&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;userAdminAnyDatabase&quot;</span>,
                        <span class="token string">&quot;db&quot;</span> <span class="token builtin class-name">:</span> <span class="token string">&quot;admin&quot;</span>
                <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token operator">&gt;</span>
</code></pre></div><h2 id="å¤‡ä»½å’Œæ¢å¤"><a href="#å¤‡ä»½å’Œæ¢å¤" class="header-anchor">#</a> å¤‡ä»½å’Œæ¢å¤</h2> <h3 id="æ•°æ®å¤‡ä»½"><a href="#æ•°æ®å¤‡ä»½" class="header-anchor">#</a> æ•°æ®å¤‡ä»½</h3> <p>åœ¨ Mongodb ä¸­ï¼Œä½¿ç”¨ <code>mongodump</code> å‘½ä»¤æ¥å¤‡ä»½ MongoDB æ•°æ®ã€‚è¯¥å‘½ä»¤å¯ä»¥å¯¼å‡ºæ‰€æœ‰æ•°æ®åˆ°æŒ‡å®šç›®å½•ä¸­ã€‚</p> <p><code>mongodump</code> å‘½ä»¤å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šå¯¼å‡ºçš„æ•°æ®é‡çº§è½¬å­˜çš„æœåŠ¡å™¨ã€‚</p> <p>mongodump å‘½ä»¤è¯­æ³•å¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>mongodump -h dbhost -d dbname -o dbdirectory
</code></pre></div><ul><li><p>-hï¼šMongDB æ‰€åœ¨æœåŠ¡å™¨åœ°å€ï¼Œä¾‹å¦‚ï¼š127.0.0.1ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æŒ‡å®šç«¯å£å·ï¼š127.0.0.1:27017</p></li> <li><p>-dï¼šéœ€è¦å¤‡ä»½çš„æ•°æ®åº“å®ä¾‹ï¼Œä¾‹å¦‚ï¼štest</p></li> <li><p>-oï¼šå¤‡ä»½çš„æ•°æ®å­˜æ”¾ä½ç½®ï¼Œä¾‹å¦‚ï¼šc:\data\dumpï¼Œå½“ç„¶è¯¥ç›®å½•éœ€è¦æå‰å»ºç«‹ï¼Œåœ¨å¤‡ä»½å®Œæˆåï¼Œç³»ç»Ÿè‡ªåŠ¨åœ¨ dump ç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ª test ç›®å½•ï¼Œè¿™ä¸ªç›®å½•é‡Œé¢å­˜æ”¾è¯¥æ•°æ®åº“å®ä¾‹çš„å¤‡ä»½æ•°æ®ã€‚</p></li></ul> <p><code>mongodump</code> å‘½ä»¤å¯é€‰å‚æ•°åˆ—è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼š</p> <table><thead><tr><th style="text-align:left;">è¯­æ³•</th> <th style="text-align:left;">æè¿°</th> <th style="text-align:left;">å®ä¾‹</th></tr></thead> <tbody><tr><td style="text-align:left;">mongodump --host HOST_NAME --port PORT_NUMBER</td> <td style="text-align:left;">è¯¥å‘½ä»¤å°†å¤‡ä»½æ‰€æœ‰ MongoDB æ•°æ®</td> <td style="text-align:left;">mongodump --host runoob.com --port 27017</td></tr> <tr><td style="text-align:left;">mongodump --dbpath DB_PATH --out BACKUP_DIRECTORY</td> <td style="text-align:left;"></td> <td style="text-align:left;">mongodump --dbpath /data/db/ --out /data/backup/</td></tr> <tr><td style="text-align:left;">mongodump --collection COLLECTION --db DB_NAME</td> <td style="text-align:left;">è¯¥å‘½ä»¤å°†å¤‡ä»½æŒ‡å®šæ•°æ®åº“çš„é›†åˆã€‚</td> <td style="text-align:left;">mongodump --collection mycol --db test</td></tr></tbody></table> <p>ã€ç¤ºä¾‹ã€‘å¤‡ä»½å…¨é‡æ•°æ®</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongodump -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -o test2
<span class="token punctuation">..</span>.
<span class="token number">2020</span>-09-11T11:55:58.086+0800    <span class="token keyword">done</span> dumping test.company <span class="token punctuation">(</span><span class="token number">18801</span> documents<span class="token punctuation">)</span>
<span class="token number">2020</span>-09-11T11:56:00.725+0800    <span class="token punctuation">[</span><span class="token comment">#############...........]  test.people  559101/1000000  (55.9%)</span>
<span class="token number">2020</span>-09-11T11:56:03.725+0800    <span class="token punctuation">[</span><span class="token comment">###################.....]  test.people  829496/1000000  (82.9%)</span>
<span class="token number">2020</span>-09-11T11:56:06.725+0800    <span class="token punctuation">[</span><span class="token comment">#####################...]  test.people  884614/1000000  (88.5%)</span>
<span class="token number">2020</span>-09-11T11:56:08.088+0800    <span class="token punctuation">[</span><span class="token comment">########################]  test.people  1000000/1000000  (100.0%)</span>
<span class="token number">2020</span>-09-11T11:56:08.350+0800    <span class="token keyword">done</span> dumping test.people <span class="token punctuation">(</span><span class="token number">1000000</span> documents<span class="token punctuation">)</span>
</code></pre></div><p>ã€ç¤ºä¾‹ã€‘å¤‡ä»½æŒ‡å®šæ•°æ®åº“</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mongodump -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d admin -o test3
</code></pre></div><h3 id="æ•°æ®æ¢å¤"><a href="#æ•°æ®æ¢å¤" class="header-anchor">#</a> æ•°æ®æ¢å¤</h3> <p>mongodb ä½¿ç”¨ <code>mongorestore</code> å‘½ä»¤æ¥æ¢å¤å¤‡ä»½çš„æ•°æ®ã€‚</p> <p><code>mongorestore</code> å‘½ä»¤è¯­æ³•å¦‚ä¸‹ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token operator">&gt;</span> mongorestore -h <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span><span class="token operator">&lt;</span>:port<span class="token operator">&gt;</span> -d dbname <span class="token operator">&lt;</span>path<span class="token operator">&gt;</span>
</code></pre></div><ul><li><p><code>--host &lt;:port&gt;</code>, <code>-h &lt;:port&gt;</code>ï¼šMongoDB æ‰€åœ¨æœåŠ¡å™¨åœ°å€ï¼Œé»˜è®¤ä¸ºï¼š localhost:27017</p></li> <li><p><code>--db</code> , <code>-d</code> ï¼šéœ€è¦æ¢å¤çš„æ•°æ®åº“å®ä¾‹ï¼Œä¾‹å¦‚ï¼štestï¼Œå½“ç„¶è¿™ä¸ªåç§°ä¹Ÿå¯ä»¥å’Œå¤‡ä»½æ—¶å€™çš„ä¸ä¸€æ ·ï¼Œæ¯”å¦‚ test2</p></li> <li><p><code>--drop</code>ï¼šæ¢å¤çš„æ—¶å€™ï¼Œå…ˆåˆ é™¤å½“å‰æ•°æ®ï¼Œç„¶åæ¢å¤å¤‡ä»½çš„æ•°æ®ã€‚å°±æ˜¯è¯´ï¼Œæ¢å¤åï¼Œå¤‡ä»½åæ·»åŠ ä¿®æ”¹çš„æ•°æ®éƒ½ä¼šè¢«åˆ é™¤ï¼Œæ…ç”¨å“¦ï¼</p></li> <li><p><code>&lt;path&gt;</code>ï¼šmongorestore æœ€åçš„ä¸€ä¸ªå‚æ•°ï¼Œè®¾ç½®å¤‡ä»½æ•°æ®æ‰€åœ¨ä½ç½®ï¼Œä¾‹å¦‚ï¼šc:\data\dump\testã€‚ä½ ä¸èƒ½åŒæ—¶æŒ‡å®š <code>&lt;path&gt;</code> å’Œ <code>--dir</code> é€‰é¡¹ï¼Œ<code>--dir</code> ä¹Ÿå¯ä»¥è®¾ç½®å¤‡ä»½ç›®å½•ã€‚</p></li> <li><p><code>--dir</code>ï¼šæŒ‡å®šå¤‡ä»½çš„ç›®å½•ã€‚ä½ ä¸èƒ½åŒæ—¶æŒ‡å®š <code>&lt;path&gt;</code> å’Œ <code>--dir</code> é€‰é¡¹ã€‚</p></li></ul> <p>ã€ç¤ºä¾‹ã€‘</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongorestore -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d <span class="token builtin class-name">test</span> --dir <span class="token builtin class-name">test</span> --drop
<span class="token punctuation">..</span>.
<span class="token number">2020</span>-09-11T11:46:16.053+0800    finished restoring test.tweets <span class="token punctuation">(</span><span class="token number">966</span> documents, <span class="token number">0</span> failures<span class="token punctuation">)</span>
<span class="token number">2020</span>-09-11T11:46:18.256+0800    <span class="token punctuation">[</span><span class="token comment">###.....................]  test.people  164MB/1.03GB  (15.6%)</span>
<span class="token number">2020</span>-09-11T11:46:21.255+0800    <span class="token punctuation">[</span><span class="token comment">########................]  test.people  364MB/1.03GB  (34.6%)</span>
<span class="token number">2020</span>-09-11T11:46:24.256+0800    <span class="token punctuation">[</span><span class="token comment">############............]  test.people  558MB/1.03GB  (53.0%)</span>
<span class="token number">2020</span>-09-11T11:46:27.255+0800    <span class="token punctuation">[</span><span class="token comment">###############.........]  test.people  700MB/1.03GB  (66.5%)</span>
<span class="token number">2020</span>-09-11T11:46:30.257+0800    <span class="token punctuation">[</span><span class="token comment">###################.....]  test.people  846MB/1.03GB  (80.3%)</span>
<span class="token number">2020</span>-09-11T11:46:33.255+0800    <span class="token punctuation">[</span><span class="token comment">######################..]  test.people  990MB/1.03GB  (94.0%)</span>
<span class="token number">2020</span>-09-11T11:46:34.542+0800    <span class="token punctuation">[</span><span class="token comment">########################]  test.people  1.03GB/1.03GB  (100.0%)</span>
<span class="token number">2020</span>-09-11T11:46:34.543+0800    no indexes to restore
<span class="token number">2020</span>-09-11T11:46:34.543+0800    finished restoring test.people <span class="token punctuation">(</span><span class="token number">1000000</span> documents, <span class="token number">0</span> failures<span class="token punctuation">)</span>
<span class="token number">2020</span>-09-11T11:46:34.544+0800    <span class="token number">1000966</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> restored successfully. <span class="token number">0</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> failed to restore.
</code></pre></div><h2 id="å¯¼å…¥å¯¼å‡º"><a href="#å¯¼å…¥å¯¼å‡º" class="header-anchor">#</a> å¯¼å…¥å¯¼å‡º</h2> <p><code>mongoimport</code> å’Œ <code>mongoexport</code> å¹¶ä¸èƒ½å¯é åœ°ä¿å­˜æ‰€æœ‰çš„å¯Œæ–‡æœ¬ BSON æ•°æ®ç±»å‹ï¼Œå› ä¸º JSON ä»…èƒ½ä»£è¡¨ä¸€ç§ BSON æ”¯æŒçš„å­é›†ç±»å‹ã€‚å› æ­¤ï¼Œæ•°æ®ç”¨è¿™äº›å·¥å…·å¯¼å‡ºå¯¼å…¥æˆ–è®¸ä¼šä¸¢å¤±ä¸€äº›ç²¾ç¡®ç¨‹åº¦ã€‚</p> <h3 id="å¯¼å…¥æ“ä½œ"><a href="#å¯¼å…¥æ“ä½œ" class="header-anchor">#</a> å¯¼å…¥æ“ä½œ</h3> <p>åœ¨ MongoDB ä¸­ï¼Œä½¿ç”¨ <code>mongoimport</code> æ¥å¯¼å…¥æ•°æ®ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>mongoimport</code> ä¼šå°†æ•°æ®å¯¼å…¥åˆ°æœ¬åœ°ä¸»æœºç«¯å£ 27017 ä¸Šçš„ MongoDB å®ä¾‹ä¸­ã€‚è¦å°†æ•°æ®å¯¼å…¥åœ¨å…¶ä»–ä¸»æœºæˆ–ç«¯å£ä¸Šè¿è¡Œçš„ MongoDB å®ä¾‹ä¸­ï¼Œè¯·é€šè¿‡åŒ…å« <code>--host</code> å’Œ <code>--port</code> é€‰é¡¹æ¥æŒ‡å®šä¸»æœºåæˆ–ç«¯å£ã€‚ ä½¿ç”¨ <code>--drop</code> é€‰é¡¹åˆ é™¤é›†åˆï¼ˆå¦‚æœå·²ç»å­˜åœ¨ï¼‰ã€‚ è¿™æ ·å¯ä»¥ç¡®ä¿è¯¥é›†åˆä»…åŒ…å«æ‚¨è¦å¯¼å…¥çš„æ•°æ®ã€‚</p> <p>è¯­æ³•æ ¼å¼ï¼š</p> <div class="language-bash extra-class"><pre class="language-bash"><code>mongoimport -h IP --port ç«¯å£ -u ç”¨æˆ·å -p å¯†ç  -d æ•°æ®åº“ -c è¡¨å --type ç±»å‹ --headerline --upsert --drop æ–‡ä»¶å
</code></pre></div><p>ã€ç¤ºä¾‹ã€‘å¯¼å…¥è¡¨æ•°æ®</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongoimport -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d <span class="token builtin class-name">test</span> -c book --drop test/book.dat
<span class="token number">2020</span>-09-11T10:53:56.359+0800    connected to: mongodb://127.0.0.1:27017/
<span class="token number">2020</span>-09-11T10:53:56.372+0800    dropping: test.book
<span class="token number">2020</span>-09-11T10:53:56.628+0800    <span class="token number">431</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> imported successfully. <span class="token number">0</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> failed to import.
</code></pre></div><p>ã€ç¤ºä¾‹ã€‘ä» json æ–‡ä»¶ä¸­å¯¼å…¥è¡¨æ•°æ®</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongoimport -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d <span class="token builtin class-name">test</span> -c student --upsert test/student.json
<span class="token number">2020</span>-09-11T11:02:55.907+0800    connected to: mongodb://127.0.0.1:27017/
<span class="token number">2020</span>-09-11T11:02:56.068+0800    <span class="token number">200</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> imported successfully. <span class="token number">0</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> failed to import.
</code></pre></div><p>ã€ç¤ºä¾‹ã€‘ä» csv æ–‡ä»¶ä¸­å¯¼å…¥è¡¨æ•°æ®</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongoimport -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d <span class="token builtin class-name">test</span> -c product --type csv --headerline test/product.csv
<span class="token number">2020</span>-09-11T11:07:49.788+0800    connected to: mongodb://127.0.0.1:27017/
<span class="token number">2020</span>-09-11T11:07:51.051+0800    <span class="token number">11</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> imported successfully. <span class="token number">0</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> failed to import.
</code></pre></div><p>ã€ç¤ºä¾‹ã€‘å¯¼å…¥éƒ¨åˆ†è¡¨å­—æ®µæ•°æ®</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongoimport -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d <span class="token builtin class-name">test</span> -c product --type json --upsertFields name,price test/product.json
<span class="token number">2020</span>-09-11T11:14:05.410+0800    connected to: mongodb://127.0.0.1:27017/
<span class="token number">2020</span>-09-11T11:14:05.612+0800    <span class="token number">11</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> imported successfully. <span class="token number">0</span> document<span class="token punctuation">(</span>s<span class="token punctuation">)</span> failed to import.
</code></pre></div><h3 id="å¯¼å‡ºæ“ä½œ"><a href="#å¯¼å‡ºæ“ä½œ" class="header-anchor">#</a> å¯¼å‡ºæ“ä½œ</h3> <p>è¯­æ³•æ ¼å¼ï¼š</p> <div class="language-shell extra-class"><pre class="language-shell"><code>mongoexport -h <span class="token operator">&lt;</span>IP<span class="token operator">&gt;</span> --port <span class="token operator">&lt;</span>ç«¯å£<span class="token operator">&gt;</span> -u <span class="token operator">&lt;</span>ç”¨æˆ·å<span class="token operator">&gt;</span> -p <span class="token operator">&lt;</span>å¯†ç <span class="token operator">&gt;</span> -d <span class="token operator">&lt;</span>æ•°æ®åº“<span class="token operator">&gt;</span> -c <span class="token operator">&lt;</span>è¡¨å<span class="token operator">&gt;</span> -f <span class="token operator">&lt;</span>å­—æ®µ<span class="token operator">&gt;</span> -q <span class="token operator">&lt;</span>æ¡ä»¶å¯¼å‡º<span class="token operator">&gt;</span> --csv -o <span class="token operator">&lt;</span>æ–‡ä»¶å<span class="token operator">&gt;</span>
</code></pre></div><ul><li><code>-f</code>ï¼šå¯¼å‡ºæŒ‡å­—æ®µï¼Œä»¥é€—å·åˆ†å‰²ï¼Œ<code>-f name,email,age</code> å¯¼å‡º name,email,age è¿™ä¸‰ä¸ªå­—æ®µ</li> <li><code>-q</code>ï¼šå¯ä»¥æ ¹æŸ¥è¯¢æ¡ä»¶å¯¼å‡ºï¼Œ<code>-q '{ &quot;uid&quot; : &quot;100&quot; }'</code> å¯¼å‡º uid ä¸º 100 çš„æ•°æ®</li> <li><code>--csv</code>ï¼šè¡¨ç¤ºå¯¼å‡ºçš„æ–‡ä»¶æ ¼å¼ä¸º csv çš„ï¼Œè¿™ä¸ªæ¯”è¾ƒæœ‰ç”¨ï¼Œå› ä¸ºå¤§éƒ¨åˆ†çš„å…³ç³»å‹æ•°æ®åº“éƒ½æ˜¯æ”¯æŒ csvï¼Œåœ¨è¿™é‡Œæœ‰å…±åŒç‚¹</li></ul> <p>ã€ç¤ºä¾‹ã€‘å¯¼å‡ºæ•´å¼ è¡¨</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongoexport -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d <span class="token builtin class-name">test</span> -c product -o test/product.dat
<span class="token number">2020</span>-09-11T10:44:23.161+0800    connected to: mongodb://127.0.0.1:27017/
<span class="token number">2020</span>-09-11T10:44:23.177+0800    exported <span class="token number">11</span> records
</code></pre></div><p>ã€ç¤ºä¾‹ã€‘å¯¼å‡ºè¡¨åˆ° json æ–‡ä»¶</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongoexport -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d <span class="token builtin class-name">test</span> -c product --type json -o test/product.json
<span class="token number">2020</span>-09-11T10:49:52.735+0800    connected to: mongodb://127.0.0.1:27017/
<span class="token number">2020</span>-09-11T10:49:52.750+0800    exported <span class="token number">11</span> records
</code></pre></div><p>ã€ç¤ºä¾‹ã€‘å¯¼å‡ºè¡¨ä¸­éƒ¨åˆ†å­—æ®µåˆ° csv æ–‡ä»¶</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ mongoexport -h <span class="token number">127.0</span>.0.1 --port <span class="token number">27017</span> -d <span class="token builtin class-name">test</span> -c product --type csv -f name,price -o test/product.csv
<span class="token number">2020</span>-09-11T10:47:33.160+0800    connected to: mongodb://127.0.0.1:27017/
<span class="token number">2020</span>-09-11T10:47:33.176+0800    exported <span class="token number">11</span> records
</code></pre></div><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="header-anchor">#</a> å‚è€ƒèµ„æ–™</h2> <ul><li><a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB å®˜ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/mongodb/mongo" target="_blank" rel="noopener noreferrer">MongoDB Github<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://university.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB å®˜æ–¹å…è´¹æ•™ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.runoob.com/mongodb/mongodb-tutorial.html" target="_blank" rel="noopener noreferrer">MongoDB æ•™ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <div class="page-slot page-slot-bottom">
  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>
  <style>
    .pageB img{width:80px!important;}
    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}
  </style>
  </div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/db-tutorial/edit/master/docs/04.æ–‡æ¡£æ•°æ®åº“/01.MongoDB/20.MongoDBè¿ç»´.md" target="_blank" rel="noopener noreferrer">ğŸ“ å¸®åŠ©æ”¹å–„æ­¤é¡µé¢ï¼</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/db-tutorial/tags/?tag=%E6%95%B0%E6%8D%AE%E5%BA%93" title="æ ‡ç­¾">#æ•°æ®åº“</a><a href="/db-tutorial/tags/?tag=%E6%96%87%E6%A1%A3%E6%95%B0%E6%8D%AE%E5%BA%93" title="æ ‡ç­¾">#æ–‡æ¡£æ•°æ®åº“</a><a href="/db-tutorial/tags/?tag=MongoDB" title="æ ‡ç­¾">#MongoDB</a><a href="/db-tutorial/tags/?tag=%E8%BF%90%E7%BB%B4" title="æ ‡ç­¾">#è¿ç»´</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/04/22, 20:06:00</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/db-tutorial/pages/34b182/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">MongoDB åˆ†ç‰‡</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/db-tutorial/pages/34b182/" class="prev">MongoDB åˆ†ç‰‡</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/db-tutorial/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/db-tutorial/pages/6ed13e/"><div>
            æ•°æ®åº“ç»¼åˆ
            <!----></div></a> <span class="date">04-11</span></dt></dl><dl><dd>02</dd> <dt><a href="/db-tutorial/pages/02d9f1/"><div>
            æ•°æ®åº“ä¸­é—´ä»¶å’Œä»£ç†
            <!----></div></a> <span class="date">04-11</span></dt></dl><dl><dd>03</dd> <dt><a href="/db-tutorial/pages/b2560d/"><div>
            å…³ç³»å‹æ•°æ®åº“å…¶ä»–çŸ¥è¯†
            <!----></div></a> <span class="date">04-11</span></dt></dl> <dl><dd></dd> <dt><a href="/db-tutorial/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:forbreak@163.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/dunwu" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2019-2022
    <span>é’æ‚Ÿï¼ˆdunwuï¼‰ | CC-BY-SA-4.0</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><span class="close-but">Ã—</span> <div>
    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;
    min-width: auto;min-height:auto;"></div>
    <style>
      .windowRB{ padding: 0;}
      .windowRB .wwads-img{margin-top: 10px;}
      .windowRB .wwads-content{margin: 0 10px 10px 10px;}
      .custom-html-window-rb .close-but{
        display: none;
      }
    </style>
  </div></div></div></div><div class="global-ui"></div></div>
    <script src="/db-tutorial/assets/js/app.a5647274.js" defer></script><script src="/db-tutorial/assets/js/2.bf0d4043.js" defer></script><script src="/db-tutorial/assets/js/40.2c37d077.js" defer></script>
  </body>
</html>
